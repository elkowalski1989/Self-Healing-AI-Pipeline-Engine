<UserControl x:Class="SelfHealingPipeline.Controls.ChatBubble"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Name="Root">
    <Grid Margin="8,4">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Border x:Name="BubbleBorder" CornerRadius="12" Padding="14,10"
                MaxWidth="680" HorizontalAlignment="Left"
                Background="{DynamicResource CardBrush}">
            <StackPanel>
                <TextBlock x:Name="SenderText" FontSize="10" FontWeight="SemiBold"
                           Foreground="{DynamicResource TextMutedBrush}" Margin="0,0,0,4"/>
                <TextBox x:Name="MessageText" FontSize="13" TextWrapping="Wrap"
                         Foreground="{DynamicResource TextPrimaryBrush}"
                         Background="Transparent" BorderThickness="0"
                         IsReadOnly="True" Padding="0"
                         IsTabStop="False"
                         TextBlock.LineHeight="20">
                    <TextBox.Style>
                        <Style TargetType="TextBox">
                            <Setter Property="CaretBrush" Value="Transparent"/>
                            <Setter Property="SelectionBrush" Value="{DynamicResource AccentBrush}"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="TextBox">
                                        <ScrollViewer x:Name="PART_ContentHost"
                                                      Focusable="False"
                                                      HorizontalScrollBarVisibility="Disabled"
                                                      VerticalScrollBarVisibility="Disabled"/>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </TextBox.Style>
                </TextBox>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
